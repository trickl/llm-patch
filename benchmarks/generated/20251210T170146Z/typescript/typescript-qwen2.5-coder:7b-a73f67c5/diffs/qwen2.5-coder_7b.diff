--- before.ts
+++ after.ts
@@ -74,3 +74,3 @@ function evaluate(output: string[]): number {
   return stack.pop()!;
 }

-export function evaluateExpression(input: string): number {
+export function evaluateExpression(input: string): number[] {
   const tokens = tokenize(input);
   const output = parse(tokens);
   return evaluate(output);
@@ -109,19 +109,19 @@ export function evaluateExpression(input: string): number {
   }
 }

-if (require.main === module) {
+if (typeof require !== 'undefined' && require.main === module) {
   const input = process.argv[2];
   if (!input) {
     console.log('Usage: node expression_evaluator.ts "expression"');
     process.exit(1);
   }
   try {
-    const result = evaluateExpression(input);
+    const results = evaluateExpression(input);
     console.log(`Result: ${results}`);
   } catch (error) {
     console.error(`Error: ${error.message}`);
   }
 }
