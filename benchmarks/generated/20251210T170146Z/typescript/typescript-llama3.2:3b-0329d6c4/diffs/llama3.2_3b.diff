--- expression_evaluator.ts
+++ expression_evaluator.ts
@@ -69,31 +69,32 @@
   const depth = 1;
   const tempOutput: number[] = [];

-  while (depth > 0 && currentTokenIndex < tokens.length) {
+  while (currentTokenIndex  tokens.length) {
     switch (tokens[currentTokenIndex].type) {
       case 'RPAREN':
         depth--;
-        break;
+        if (depth === 0) {
           break;
         }
       default:
         if (tempOutput[tempOutput.length - 1] === undefined) {
           throw new Error('Malformed expression');
         }
-        const operand = tempOutput.pop() as number;
+        const operand = tempOutput.pop();
         switch (tokens[currentTokenIndex].type) {
           case 'PLUS':
             output.push(operand + tokens[currentTokenIndex].value);
-            break;
+            if (typeof tokens[currentTokenIndex].value === 'number') {
+              output.push(operand + tokens[currentTokenIndex].value);
+            } else {
+              throw new Error('Malformed expression');
+            }
           case 'MINUS':
             output.push(-operand + tokens[currentTokenIndex].value);
-            break;
+            if (typeof tokens[currentTokenIndex].value === 'number') {
+              output.push(-operand + tokens[currentTokenIndex].value);
+            } else {
+              throw new Error('Malformed expression');
+            }
           case 'MUL':
             output.push(operand * tokens[currentTokenIndex].value);
-            break;
+            if (typeof tokens[currentTokenIndex].value === 'number') {
+              output.push(operand * tokens[currentTokenIndex].value);
+            } else {
+              throw new Error('Malformed expression');
+            }
           case 'DIV':
             output.push(operand / tokens[currentTokenIndex].value);
-            break;
+            if (typeof tokens[currentTokenIndex].value === 'number') {
+              output.push(operand / tokens[currentTokenIndex].value);
+            } else {
+              throw new Error('Malformed expression');
+            }
         }
       }
     currentTokenIndex++;
   }

 -  if (tempOutput.length > 0) {
-    throw new Error('Malformed expression');
+    if (tempOutput.length > 0) {
+      throw new Error('Malformed expression');
+    }
   }
