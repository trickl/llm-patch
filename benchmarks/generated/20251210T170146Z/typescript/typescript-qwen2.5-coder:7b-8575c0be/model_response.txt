```typescript
// expression_evaluator.ts

function tokenize(input: string): string[] {
    return input.match(/[\d\+\-\*\/\(\)\s]/g)?.filter(Boolean) || [];
}

function parse(tokens: string[]): number[] {
    const values: number[] = [];
    const ops: string[] = [];
    let i = 0;

    while (i < tokens.length) {
        const token = tokens[i];

        if (!isNaN(Number(token))) {
            values.push(Number(token));
        } else if (token === '(') {
            ops.push(token);
        } else if (token === ')') {
            while (ops[ops.length - 1] !== '(') {
                values.push(applyOp(ops.pop()!, values.pop()!, values.pop()!));
            }
            ops.pop();
        } else {
            while (
                ops.length > 0 &&
                precedence(ops[ops.length - 1]) >= precedence(token)
            ) {
                values.push(applyOp(ops.pop()!, values.pop()!, values.pop()!));
            }
            ops.push(token);
        }

        i++;
    }

    while (ops.length > 0) {
        values.push(applyOp(ops.pop()!, values.pop()!, values.pop()!));
    }

    return values[0];
}

function applyOp(op: string, b: number, a: number): number {
    switch (op) {
        case '+':
            return a + b;
        case '-':
            return a - b;
        case '*':
            return a * b;
        case '/':
            if (b === 0) throw new Error("Division by zero");
            return Math.floor(a / b);
        default:
            throw new Error(`Unknown operator: ${op}`);
    }
}

function precedence(op: string): number {
    switch (op) {
        case '+':
        case '-':
            return 1;
        case '*':
        case '/':
            return 2;
        default:
            return -1;
    }
}

export function evaluateExpression(input: string): number {
    const tokens = tokenize(input);
    return parse(tokens);
}

// CLI example
if (require.main === module) {
    console.log(evaluateExpression("3 + 4 * (2 - 1)")); // Output: 9
    console.log(evaluateExpression("2 * 3 + 4")); // Output: 10
    console.log(evaluateExpression("2 * (3 + 4)")); // Output: 14
    console.log(evaluateExpression("8 / 2 * (2 + 2)")); // Output: 16
}
```