--- before.ts
+++ before.ts
@@ -35,7 +35,7 @@ class Evaluator {
     const output: Token[] = [];
     let currentToken = '';
     for (const char of input) {
-      if (char.match(/[\d\+\-\*\/\(\)\s]/)) {
+      if (char.match(/[0-9\+\-\*\/\(\)\s]/)) {
         if (currentToken) {
           output.push({ type: 'NUMBER', value: parseInt(currentToken) });
           currentToken = '';
@@ -56,7 +56,7 @@ class Evaluator {
       } else if (token.type === 'NUMBER') {
         outputQueue.push(token.value);
       } else if (['PLUS', 'MINUS'].includes(token.type)) {
-        while (
+        while (operatorStack.length &&
           this.getPrecedence(operatorStack[operatorStack.length - 1]) >=
             this.getPrecedence(token.type)
@@ -67,7 +67,7 @@ class Evaluator {
     const outputQueue = [];
     const operatorStack: string[] = [];

-    for (const token of tokens) {
+    for (const token of tokens.filter(t => t.type !== 'NUMBER')) {
       if (token.type === 'NUMBER') {
         outputQueue.push(token.value);
       } else if (['PLUS', 'MINUS'].includes(token.type)) {
@@ -131,7 +131,7 @@ class Evaluator {
     }
   }

-  public evaluateExpression(input: string): number {
+  public evaluateExpression(input: string): number | undefined {
     const tokens = this.tokenize(input);
     return this.parse(tokens);
   }
