--- before.c
+++ after.c
@@ -72,7 +72,8 @@
   int result = evaluate_factor();
   while (tokens[token_index].type == TOKEN_MULTIPLY || tokens[token_index].type == TOKEN_DIVIDE) {
-    Token op = get_next_token();
+    if (tokens[token_index].type == TOKEN_MULTIPLY) {
+      Token op = get_next_token();
       if (op.type == TOKEN_MULTIPLY) {
         result *= evaluate_factor();
       } else if (op.type == TOKEN_DIVIDE) {
-        int divisor = evaluate_factor();
+        int divisor = evaluate_factor();
         if (divisor == 0) {
           error("Division by zero");
         }
-        result /= divisor;
+        result = result / divisor;
       }
   }
   return result;
