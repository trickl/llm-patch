--- before.c
+++ before.c
@@ -14,7 +14,7 @@
     EOF
 } TokenType;
 
-// Token structure
+typedef struct {
     Token {
         TokenType type;
         double value;
     };
 }
 
@@ -32,7 +32,7 @@ Token* lexer(char* expression) {
             tokens[index].type = get_token_type(token);
             tokens[index].value = token[0] == '-' ? -1.0 : 1.0;
             index++;
-        } else if (token[0] >= '0' && token[0] <= '9') {
+        } else if (isdigit(token[0])) {
             double value = atof(token);
             tokens[index].type = NUMBER;
             tokens[index].value = value;
@@ -55,7 +55,7 @@ void* parser(Token* tokens) {
     int length = 0;
     for (int i = 0; i < strlen(tokens[0].value); i++) {
         if (tokens[i].type == LPAREN) {
-            length++;
+            length += 1;
         } else if (tokens[i].type == RPAREN) {
             length--;
         }
@@ -70,7 +70,7 @@ void* parser(Token* tokens) {
                 ast[index] = parser(tokens + index + 1);
                 index++;
             } else if (tokens[index].type == RPAREN) {
-                break;
+                return ast;
             } else if (tokens[index].type == NUMBER || tokens[index].type == PLUS ||
                        tokens[index].type == MINUS || tokens[index].type == MUL ||
                        tokens[index].type == DIV) {
@@ -115,7 +115,7 @@ int main() {
     for (int i = 0; i < sizeof(expressions) / strlen(expressions); i++) {
         Token* tokens = lexer(expressions[i]);
         void* ast = parser(tokens);
-        double result = evaluator(ast);
+        double result = evaluator((double*)ast);
         printf("%s => %f\n", expressions[i], result);
         free(tokens);
         free(ast);
