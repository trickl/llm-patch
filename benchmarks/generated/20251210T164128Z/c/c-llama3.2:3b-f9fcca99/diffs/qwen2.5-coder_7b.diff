--- before.c
+++ before.c
@@ -80,7 +80,7 @@ Token* parse(Token* tokens) {
     while (tokens[top = top + 1] != EOF && tokens[top].type != UNARY_MINUS) {
         if (tokens[top].type == LPAREN) {
             Token* sub_expression = parse(tokens + top + 1);
-            stack[++top] = *sub_expression;
+            stack[++top] = { sub_expression->type, sub_expression->value };
         } else if (tokens[top].type == NUMBER || tokens[top].type == PLUS || tokens[top].type == MINUS ||
                    tokens[top].type == MUL || tokens[top].type == DIV) {
             Token* operand = parse(tokens + top + 1);
@@ -96,7 +96,7 @@ Token* parse(Token* tokens) {
     if (tokens[top].type == UNARY_MINUS) {
         Token* operand = parse(tokens + top + 1);
         stack[++top] = { tokens[top].type, -operand.value };
-    } else {
+    } else {
         stack[++top] = { tokens[top].type, 0.0 };
     }
 
@@ -108,7 +108,7 @@ double evaluate(Token* tokens) {
     while (stack[top = top - 1].type != EOF && stack[top].type != NUMBER) {
         if (stack[top].type == PLUS) {
             double operand2 = stack[++top].value;
-            double operand1 = stack[++top].value;
+            double operand1 = stack[--top].value;
             stack[top] = { stack[top].type, operand1 + operand2 };
         } else if (stack[top].type == MINUS) {
             double operand2 = stack[++top].value;
-            double operand1 = stack[++top].value;
+            double operand1 = stack[--top].value;
             stack[top] = { stack[top].type, operand1 - operand2 };
         } else if (stack[top].type == MUL) {
             double operand2 = stack[++top].value;
-            double operand1 = stack[++top].value;
+            double operand1 = stack[--top].value;
             stack[top] = { stack[top].type, operand1 * operand2 };
         } else if (stack[top].type == DIV) {
             double operand2 = stack[++top].value;
-            double operand1 = stack[++top].value;
+            double operand1 = stack[--top].value;
             stack[top] = { stack[top].type, operand1 / operand2 };
         }
     }
