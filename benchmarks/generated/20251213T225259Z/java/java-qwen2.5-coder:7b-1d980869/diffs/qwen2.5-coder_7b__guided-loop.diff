ORIGINAL LINES:
.map(token -> token.equals("-") && (tokens.isEmpty() || tokens.get(tokens.size() - 1).matches("[\\(+-]")))
    ? "0-" : token)

CHANGED LINES:
.map(token -> {
    if (token.equals("-") && (tokens.isEmpty() || tokens.get(tokens.size() - 1).matches("[\\(+-]"))) {
        return "0-";
    } else {
        return token;
    }
})
