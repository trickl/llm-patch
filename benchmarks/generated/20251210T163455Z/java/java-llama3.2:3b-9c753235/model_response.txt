```java
import java.util.*;

public class ExpressionEvaluator {

    public static void main(String[] args) {
        System.out.println(evaluate("1 + 2")); // 3
        System.out.println(evaluate("2 * 3 + 4")); // 10
        System.out.println(evaluate("2 * (3 + 4)")); // 14
        System.out.println(evaluate("8 / 2 * (2 + 2)")); // 16
    }

    public static int evaluate(String expression) {
        List<Token> tokens = tokenize(expression);
        return parse(tokens).evaluate();
    }

    private static class Token {
        String type;
        Object value;

        public Token(String type, Object value) {
            this.type = type;
            this.value = value;
        }
    }

    private static List<Token> tokenize(String expression) {
        List<Token> tokens = new ArrayList<>();
        StringBuilder currentNumber = new StringBuilder();
        char currentChar;

        for (char c : expression.toCharArray()) {
            if (Character.isDigit(c)) {
                currentNumber.append(c);
            } else if (c == '(' || c == ')') {
                tokens.add(new Token(String.valueOf(c), null));
            } else if (c == '+' || c == '-' || c == '*' || c == '/') {
                if (!currentNumber.isEmpty()) {
                    tokens.add(new Token("number", Integer.parseInt(currentNumber.toString())));
                    currentNumber.setLength(0);
                }
                tokens.add(new Token(String.valueOf(c), null));
            } else {
                throw new RuntimeException("Invalid character: " + c);
            }

            while (Character.isWhitespace(expression.charAt(expression.indexOf(c) - 1))) {
                c = expression.charAt(expression.indexOf(c) - 1);
            }
        }

        if (!currentNumber.isEmpty()) {
            tokens.add(new Token("number", Integer.parseInt(currentNumber.toString())));
        }

        return tokens;
    }

    private static class ParseResult {
        int index;
        boolean done;

        public ParseResult(int index, boolean done) {
            this.index = index;
            this.done = done;
        }
    }

    private static ParseResult parse(List<Token> tokens) {
        return parse(tokens, 0);
    }

    private static ParseResult parse(List<Token> tokens, int index) {
        if (index >= tokens.size()) {
            return new ParseResult(index, true);
        }

        Token token = tokens.get(index);

        if (token.type.equals("number")) {
            return parse(tokens, index + 1);
        } else if (token.type.equals("+") || token.type.equals("-") || token.type.equals("*") || token.type.equals("/")) {
            int rightIndex = parse(tokens, index + 1).index;
            ParseResult leftResult = parse(tokens, index + 1);
            if (leftResult.done) {
                throw new RuntimeException("Unbalanced parentheses");
            }

            switch (token.type) {
                case "+":
                    return new ParseResult(leftResult.index, false);
                case "-":
                    return new ParseResult(leftResult.index, false);
                case "*":
                    int rightIndex2 = parse(tokens, rightIndex).index;
                    if (rightIndex2 > leftResult.index + 1) {
                        throw new RuntimeException("Unbalanced parentheses");
                    }
                    return new ParseResult(rightIndex2, false);
                case "/":
                    int rightIndex3 = parse(tokens, rightIndex).index;
                    if (rightIndex3 > leftResult.index + 1) {
                        throw new RuntimeException("Unbalanced parentheses");
                    }
                    return new ParseResult(rightIndex3, false);
            }

        } else if (token.type.equals("(")) {
            ParseResult result = parse(tokens, index + 1);
            if (!result.done) {
                tokens.get(index).value = result.value;
                return result;
            } else {
                throw new RuntimeException("Unbalanced parentheses");
            }
        } else if (token.type.equals(")")) {
            int leftIndex = parse(tokens, index - 1).index;
            ParseResult result = parse(tokens, leftIndex + 1);
            if (!result.done) {
                tokens.get(index).value = result.value;
                return result;
            } else {
                throw new RuntimeException("Unbalanced parentheses");
            }
        }

        throw new RuntimeException("Invalid token: " + token.type);
    }

    private static class Evaluator {
        public int evaluate() {
            return (int) value;
        }

        private Object value;

        public Evaluator(Object value) {
            this.value = value;
        }
    }

    private static Evaluator parse(List<Token> tokens, int index) {
        if (index >= tokens.size()) {
            throw new RuntimeException("Unexpected end of input");
        }

        Token token = tokens.get(index);

        if (token.type.equals("number")) {
            return new Evaluator(token.value);
        } else if (token.type.equals("-")) {
            int rightIndex = parse(tokens, index + 1).index;
            ParseResult leftResult = parse(tokens, index + 1);
            if (leftResult.done) {
                throw new RuntimeException("Unbalanced parentheses");
            }
            return new Evaluator(-(int) leftResult.value);
        } else if (token.type.equals("(")) {
            ParseResult result = parse(tokens, index + 1);
            if (!result.done) {
                tokens.get(index).value = result.value;
                return result;
            } else {
                throw new RuntimeException("Unbalanced parentheses");
            }
        }

        throw new RuntimeException("Invalid token: " + token.type);
    }
}
```